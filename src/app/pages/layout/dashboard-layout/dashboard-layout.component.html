<div class="flex min-h-screen bg-gradient-to-br from-blue-50 to-white">
    <!-- Sidebar -->
    <aside class="hidden md:flex md:flex-col w-64 border-r bg-white/70 backdrop-blur p-4 sticky top-0 h-screen">
      <div class="px-2 py-4 text-2xl font-bold text-brand-primary">JobHub</div>

      <nav class="mt-4 flex-1 space-y-1"[attr.aria-label]="'Sidebar'">
        <!-- USER GROUP NAVIGATION -->
        <ng-container *ngIf="isUser$ | async">
          <a routerLink="/dashboard" routerLinkActive="nav-active" [routerLinkActiveOptions]="{ exact: true }" class="nav-link" (click)="onClickRouterLink('Dashboard')">🏠 Overview</a>
          <a routerLink="/jobs" routerLinkActive="nav-active" class="nav-link" (click)="onClickRouterLink('Job Board')">📋 Job Board</a>
          <a routerLink="/manage-jobs" routerLinkActive="nav-active" class="nav-link" (click)="onClickRouterLink('Manage Jobs')">📝 Manage Jobs</a>
          <a routerLink="/profile" routerLinkActive="nav-active" class="nav-link" (click)="onClickRouterLink('Profile')">👤 Profile</a>
        </ng-container>

        <!-- ADMIN GROUP NAVIGATION -->
        <ng-container *ngIf="isAdmin$ | async">
          <a routerLink="/profile" routerLinkActive="nav-active" class="nav-link" (click)="onClickRouterLink('Profile')">👤 Profile</a>
          <a routerLink="/admin" routerLinkActive="nav-active" [routerLinkActiveOptions]="{ exact: true }" class="nav-link" (click)="onClickRouterLink('Admin')">⚙️ Admin</a>
          <a routerLink="/admin/statistics" routerLinkActive="nav-active" class="nav-link" (click)="onClickRouterLink('Statistics')">📊 Statistics</a>
        </ng-container>
      </nav>

      <div class="mt-auto text-xs text-gray-500 px-2 py-3">© 2025 JobHub</div>
    </aside>

    <!-- Main -->
    <div class="flex-1 flex flex-col min-w-0">
      <!-- Header -->
      <header class="sticky top-0 z-20 bg-white/60 backdrop-blur border-b">
        <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-4">
          <div class="flex items-center gap-3">
            <button class="md:hidden btn-ghost" (click)="mobileOpen = !mobileOpen">☰</button>
            <div class="text-lg font-semibold">{{ currentRoute}}</div>
          </div>

          <div class="flex items-center gap-3">
            <button (click)="signOut()" class="btn-danger" [disabled]="isLoading">{{ isLoading ? 'Signing out…' : 'Sign out' }}</button>
          </div>
        </div>

        <!-- Mobile nav -->
        <div *ngIf="mobileOpen" class="md:hidden border-t bg-white">
          <nav class="px-3 py-2 space-y-1" [attr.aria-label]="'Main navigation'">
            <!-- USER GROUP MOBILE NAVIGATION -->
            <ng-container *ngIf="isUser$ | async">
              <a routerLink="/dashboard" class="nav-link block" (click)="onClickRouterLink('Dashboard')">🏠 Overview</a>
              <a routerLink="/jobs" class="nav-link block" (click)="onClickRouterLink('Job Board')">📋 Job Board</a>
              <a routerLink="/manage-jobs" class="nav-link block" (click)="onClickRouterLink('Manage Jobs')">📝 Manage Jobs</a>
              <a routerLink="/profile" class="nav-link block" (click)="onClickRouterLink('Profile')">👤 Profile</a>
            </ng-container>

            <!-- ADMIN GROUP MOBILE NAVIGATION -->
            <ng-container *ngIf="isAdmin$ | async">
              <a routerLink="/profile" class="nav-link block" (click)="onClickRouterLink('Profile')">👤 Profile</a>
              <a routerLink="/admin" class="nav-link block" (click)="onClickRouterLink('Admin')">⚙️ Admin</a>
              <a routerLink="/admin/statistics" class="nav-link block" (click)="onClickRouterLink('Statistics')">📊 Statistics</a>
            </ng-container>
          </nav>
        </div>
      </header>

      <!-- Content -->
      <main class="flex-1 overflow-auto">
        <div class="max-w-6xl mx-auto p-6 lg:p-8">
          <router-outlet></router-outlet>
        </div>
      </main>
    </div>
  </div>
